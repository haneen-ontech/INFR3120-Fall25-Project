<%- include ../partials/header.ejs %>   
<%- include ../partials/main_nav.ejs %>
<!--Main content for displaying database-->
<main class="container vh-100">
    <div class="row h-100">
        <div class="offset-md-1 col-md-10 h-100 d-flex flex-column">
            <br>
            <h1><%= title %></h1>
            <br>

            <!--Button that directs user to add a record page-->
            <a href="/records/add" class="btn btn-primary d-inline-block align-self-start" role="button">
                <i class="fas fa-plus-circle"></i> Add an Incident Report
                </a>
                <br>

            <!--Creating a table with bootstrap-->
            <table class="table table-bordered table-striped table-hover">
                <!--Header Row-->
                <tr class="d-flex">
                    <th class="text-center col-2">Name</th>
                    <th class="text-center col-2">Insurance #</th>
                    <th class="text-center col-4">Description</th>
                    <th class="text-center col-1">Date</th>
                    <th class="text-center col-2">Car Model</th>
                    <th class="text-center col-1">License Plate</th>
                    <th class="text-center col-1">Edit</th>
                    <th class="text-center col-1">Delete</th>
                    
                </tr>
                <!--For/while loop that goes through each value of an object in the table-->
                <%for(let count=0; count <RecordList.length; count++) {%>
                    <tr class="d-flex">
                        <td class="text-center col-2"><%=RecordList[count].name%></td>
                        <td class="text-center col-2"><%=RecordList[count].insuranceNum%></td>
                        <td class="text-center col-4"><%=RecordList[count].description%></td>
                        <td class="text-center col-1"><%=RecordList[count].date.toISOString().split('T')[0]%></td>
                        <td class="text-center col-2"><%=RecordList[count].carModel%></td>
                        <td class="text-center col-1"><%=RecordList[count].licensePlate%></td>
                        <td class="text-center col-1">

                        <!--Edit button that directs users to edit records page-->
                        <a href="/records/edit/<%=RecordList[count]._id%>" class="btn btn-primary btn-sm">
                            <i class="fas fa-pencil-alt"></i>Edit</a></td>
                            <td class="text-center col-1">
                        <!--Delete button that gets rid of an object completely-->
                        <a href="/records/delete/<%=RecordList[count]._id%>" class="btn btn-danger btn-sm"> 
                            <i class="fas fa-trash-alt"></i>Delete</a></td>
                    </tr>
                <% } %>
            </table>
            <br>
            <br>
            <br>

        </div>
    </div>
</main>
<%- include ../partials/footer.ejs %> 